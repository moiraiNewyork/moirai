

![moirai](./assets/moirai.jpg)

#  ğŸ§¬ Moirai

***The Protocol of Living IP & Consensus Reality on Bittensor***

[![License: CC BY-SA 4.0](https://img.shields.io/badge/License-CC_BY--SA_4.0-lightgrey.svg)](https://creativecommons.org/licenses/by-sa/4.0/)
[![Network: Bittensor](https://img.shields.io/badge/Network-Bittensor-blue.svg)](https://bittensor.com/)
[![Status: Testnet (Ideathon)](https://img.shields.io/badge/Status-Testnet_Ready-success.svg)](#)

**Computing the Evolution of Culture.**

##  ğŸ“– Overview

**Moirai Protocol** is the first decentralized "Living IP" incubation network built on the ***Bittensor*** network. Designed to solve AI's censorship trap and long-context amnesia, Moirai leverages uncensored models (e.g., Qwen2.5 8B Abliterated) and proprietary ***Narrative GraphRAG*** to computationally exhaust infinite storyline branchesâ€”a paradigm we call ***Narrative Darwinism***.

Moirai abandons the "speed-racing" and circular tokenomics of traditional subnets. We redefine Proof of Intelligence through a ***T+1 Asynchronous Consensus*** and bridge Web2 fiat subscriptions directly to the Base L2 chain to buy back dTAO, creating a sustainable ***Real Yield*** flywheel.

##  âœ¨ Key Features & Innovations

\- ğŸ”“ ***Uncensored Base Models (UBM):*** Eliminates alignment taxes. Freely generate complex human nature, dark aesthetics, and profound literature without artificial safety barriers.
\- ğŸ§  ***Narrative GraphRAG:*** Maintains a "Canon Worldview Graph" across millions of words. Say goodbye to AI context amnesia and plot plot-holes.
\- â³ ***T+1 Asynchronous Consensus:*** `Latency Weight = 0%`, `Quality Weight = 100%`. Miners are given a 24-hour window for Multi-Rollout simulations, rewarding pure literary value over compute hoarding.
\- ğŸ›¡ï¸ ***Commit-Reveal Anti-Cheat (The Fog of War):*** Cryptographic hash commits prevent "Front-running" and plagiarism among miners.
\- ğŸ’¸ ***Real Yield dTAO Flywheel:*** Fiat subscriptions (Stripe/PayPal) bridge to Base L2 USDC -> Smart contracts automatically buy back Moirai dTAO -> Injected into the DAO Treasury.

##  ğŸ— System Architecture

Moirai operates on a ***Dual-Track Engine*** that completely decouples model training from content generation.

###  Phase 0: The Forge (Infrastructure Layer)

\- ***Goal:*** Build the "Style Armory".
\- ***Workflow:*** Subnet Owner & DAO post dTAO bounties for specific literary styles (e.g., Cyberpunk, Cosmic Horror). Miners train highly compressed LoRA adapters based on the UBM. SOTA LoRAs are published as public goods.

###  Phase 1: The Awakening (Content Production Layer)

\- ***Goal:*** Daily long-form serialization.
\- ***Workflow:*** Miners dynamically mount SOTA LoRAs + Narrative GraphRAG. They utilize Chain-of-Thought (CoT) to simulate dozens of plot branches locally and submit the most logically rigorous outcome to compete for that day's "Canon" status.

##  âš–ï¸ Roles & Proof of Intelligence

We strictly enforce the boundary: ***Miners do not act maliciously, and Validators do not overstep.***

### ğŸ‘· Miners (The Creators)

Miners have ultimate technical freedom. They receive the daily context, Target Style Tag, and Canon Graph. Their job is to produce the highest quality continuation of the Living IP. 

###  ğŸ› Validators (The Referees & State Managers)

Validators ***never*** generate content. They maintain the `Canon Graph` and act as an objective `LLM-as-a-Judge`. 

###  The Reward Function

Validators objectively quantify ambiguous "literary quality" using a multi-dimensional mathematical aggregation formula:

![reward.png](./assets/reward.png)

\- `Graph_Recall`: Regex/NLP matching for entity recall (ultra-long context validation).
\- `LoRA_PPL`: Cross-Entropy/Perplexity testing against the winning Style LoRA.
\- `Coherence_Judge`: Local lightweight Judge LLM for blind semantic evaluation (1-5 scale).

##  ğŸ”’ Programmable Compliance Layer

To bridge decentralized freedom with Web2 commercial compliance, Moirai implements a tiered gateway:

1. ***Target Rating Matching:*** Tasks are assigned ratings (G, PG-13, R). Deviations are slashed.
2. ***Llama Guard 3 Gateway:*** Validator nodes run security checks. Content crossing absolute real-world legal red lines (e.g., CSAM, Terrorism) receives a `-100 Score` and is instantly slashed.
3. ***ZK-ID Consumer Gateway:*** Web2 readers use `Privado ID` to submit a Zero-Knowledge Proof (`Age >= 18`) to unlock restricted (R-rated) Living IPs without KYC.

##  ğŸš€ Quick Start (Testnet Simulation)

**Note: This repository currently contains the logic implementation for the HackQuest Ideathon (Round I).**

###  Prerequisites

\- Python 3.10+
\- `bittensor` CLI installed
\- A consumer-grade GPU (RTX 3090/4090 recommended) or Apple M-series for local UBM inference.



## **ğŸ—º Roadmap**

- [x] **Q1 2026:** HackQuest Ideathon (Round I) - Mechanism design and Real Yield Tokenomics validated.
- [ ] **Q2 2026:** Round II Testnet Deployment - Launch Phase 0 (The Forge) distributed LoRA training.
- [ ] **Q3 2026:** PWA Frontend Launch - Open fiat subscription gateway (Stripe -> Base -> dTAO Buyback).
- [ ] **Q4 2026:** Narrative Prediction Market - Enable dTAO wagering on tomorrow's "Canon" plot outcomes.

## **ğŸ¤ Contributing**

We welcome contributions from the Web3 and Open-Source AI community. Please read CONTRIBUTING.md for details on our code of conduct and the process for submitting pull requests.

## **ğŸ“„ License**

The Moirai Protocol codebase is released under the MIT License. The "Canon" literary content generated by the network defaults to [CC-BY-SA 4.0](https://creativecommons.org/licenses/by-sa/4.0/), governed by the Moirai DAO.